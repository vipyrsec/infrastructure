---
version: 2
enable-beta-ecosystems: true

multi-ecosystem-groups:
  infra:
    schedule:
      interval: monthly
    labels:
      - dependencies
      - infra
  apps:
    schedule:
      interval: daily
    labels:
      - dependencies
      - apps

updates:
  - package-ecosystem: github-actions
    directory: /
    multi-ecosystem-group: infra
    patterns:
      - '*'

  - package-ecosystem: helm
    directory: /kubernetes/chart/
    multi-ecosystem-group: infra
    patterns:
      - '*'

  - package-ecosystem: docker
    directories:
      - /kubernetes/manifests/cert-manager/
      - /kubernetes/manifests/monitoring/grafana/
      - /kubernetes/manifests/monitoring/prometheus/
    multi-ecosystem-group: infra
    patterns:
      - '*'

  - package-ecosystem: docker
    directories:
      - /kubernetes/manifests/discord/
      - /kubernetes/manifests/discord/bot/
      - /kubernetes/manifests/dragonfly/
      - /kubernetes/manifests/dragonfly/client/
      - /kubernetes/manifests/dragonfly/loader/
      - /kubernetes/manifests/dragonfly/mainframe/
      - /kubernetes/manifests/dragonfly/reporter/
    multi-ecosystem-group: apps
    patterns:
      - '*'
